<!doctype html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>Newport Beach / Costa Mesa</title>
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <div data-bind="visible: true" style="display: none">
      <header>
        <h1>Newport/Mesa Surf</h1>
      </header>
      <div class="newport-mesa-display-panel">
        <section class="list">
            <div class="list-items">
              <!-- ko if: yelpStatus() === 'loading' -->
              <p>Loading...</p>
              <!-- /ko -->
              <!-- ko if: yelpStatus() === 'fail' -->
              <div class="yelpFail">
                <p> Bummer! Your Yelp restaurant search failed to load. Please check out the surf spots below and try again soon...</p>
              </div>
              <!-- /ko -->
              <!-- ko if: yelpStatus() === 'success' -->
              <div class="search-panel">
                <input data-bind="textInput: searchTerm" type="text" name="mapFilter" placeholder="Filter Results">
              </div>
              <ul data-bind="foreach: locations">
                <li data-bind="text: $data.locName, click: function(){ $parent.setCurrent($data) }, css: { currentItem : $data.isActive() > 0 }"></li>
              </ul>
              <!-- /ko -->
            </div>
        </section>
        <section class="mapContainer">
          <!-- ko if: googleMapsStatus() === 'loading' -->
          <p> Loading... </p>
          <!-- /ko -->
          <!-- ko if: googleMapsStatus() === 'fail' -->
          <p> Bummer! Your map of Newport Beach failed to load. </p>
          <!-- /ko -->
          <div class="map"></div>
        </section>
        <section class="info">
          <!-- ko if: currentLocationType() === 'biz' -->
          <div class="infoWrapper" data-bind="with: currentLocation">
              <div class="infoContact">
                <a data-bind="attr: { href: $data.url }">
                  <h1 data-bind="text: $data.locName"></h1>
                </a>
                <h4 data-bind="text: $data.display_phone"></h4>
                <p data-bind="text: $data.categories"></p>
              </div>
              <div class="infoQuote">
                <p data-bind="text: $data.snippet_text" class="snippet"></p>
                <img data-bind="attr: { src: $data.rating_img_url }"/>
              </div>
            </div>
          <!-- /ko -->
          <!-- ko if: currentLocationType() === 'surf' -->
          <div class="info-data" data-bind="with: currentLocation">
            <h1 data-bind="text: $data.locName"></h1>
          </div>
          <!-- /ko -->

        </section>
    </div>
  </div>
  <script src="js/libs/jquery.min.js"></script>
  <script src="js/libs/knockout-3.4.0.js"></script>
  <script src="js/libs/oauth-signature.min.js"></script>
  <script src="js/libs/moment.min.js"></script>
  <script src="js/libs/underscore-min.js"></script>
  <script src="js/libs/d3.min.js"></script>
  <script src="js/newportmesa.js"></script>
  </body>
</html>
